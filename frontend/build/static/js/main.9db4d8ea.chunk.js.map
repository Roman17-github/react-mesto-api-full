{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","images/reg-ok.svg","images/reg=failed.svg","components/InfoTooltip.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","email","className","src","logo","alt","exact","path","to","onClick","localStorage","removeItem","СurrentUserContext","React","createContext","Card","props","currentUser","useContext","CurrentUserContext","isOwn","userId","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onCardDelete","link","onCardClick","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onPlaceAdd","cards","map","card","owner","Footer","PopupWithForm","isOpen","onSubmit","title","children","buttonText","onClose","EditProfilePopup","useState","setName","description","setDescription","useEffect","isLoading","submitType","e","preventDefault","onUpdateUser","placeholder","id","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarEdit","useRef","current","onUpdateAvatar","reset","ref","AddPlacePopup","setLink","onAddPlace","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_checkResponse","input","body","JSON","stringify","cardID","authorization","ProtectedRoute","Component","component","Register","handleChange","setState","handleSubmit","handleSubmitRegister","state","password","bind","withRouter","Login","handleSubmitAuth","InfoTooltip","isSucces","reg_ok","reg_failed","BASE_URL","checkresponse","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","setCurrentUser","setLoading","setLoggedIn","isPopupStatusOpen","setPopupStatusOpen","setSucces","setEmail","history","useHistory","getUserInfo","catch","err","console","log","closeAllPopups","getCards","token","getItem","Accept","Authorization","auth","data","push","Provider","changeLikeCardStatus","newCard","c","deleteCard","filter","setItem","setUserInfo","finally","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9db4d8ea.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from \"../images/logo.svg\";\r\nimport { Link, Route } from \"react-router-dom\";\r\n\r\nfunction Header({ loggedIn,email }) {\r\n\r\n  const removeToken = () => {\r\n    localStorage.removeItem('jwt');\r\n  }\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={logo} alt=\"логотип\" className=\"header__logo\" />\r\n      <div className=\"header__profile\">\r\n        \r\n        {loggedIn && (\r\n          <Route exact path=\"/\">\r\n            <p className=\"header__email\">{email}</p>\r\n            <Link to=\"/sign-in\" className=\"header__login\" onClick={removeToken}>\r\n              Выйти\r\n            </Link>\r\n          </Route>\r\n        )}\r\n        <Route exact path=\"/sign-in\">\r\n          <Link to=\"/sign-up\" className=\"header__login\">\r\n            Регистрация\r\n          </Link>\r\n        </Route>\r\n        <Route exact path=\"/sign-up\">\r\n          <Link to=\"/sign-in\" className=\"header__login\">\r\n            Вход\r\n          </Link>\r\n        </Route>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\n const СurrentUserContext = React.createContext();\r\n\r\n export default СurrentUserContext;","import React from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nexport default function Card(props) {\r\n    \r\n    const handleClick = () => {\r\n        props.onCardClick(props);\r\n    }\r\n\r\n    const handleLikeClick = () => {\r\n      props.onCardLike(props)\r\n    }\r\n\r\n    const handleDeleteClick = () => {\r\n       props.onCardDelete(props)\r\n    }\r\n    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.userId === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n      `element__delete ${isOwn ? '' : ' element__delete_hidden'}`\r\n    );\r\n\r\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n\r\n    const cardLikeButtonClassName = (\r\n      `element__like ${isLiked ? 'element__like_active' : ''}`\r\n    );\r\n    \r\n\r\n  return (\r\n    <div className=\"element\">\r\n      <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n      <img\r\n        src={props.link}\r\n        alt=\"картинка\"\r\n        className=\"element__image\"\r\n        onClick={handleClick}\r\n      />\r\n      <div className=\"element__bottom\">\r\n        <p className=\"element__name\">{props.name}</p>\r\n        <div className=\"like-group\">\r\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n          <div className=\"element__like-count\">{props.likes.length}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport  CurrentUserContext  from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__avatar\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt=\"аватар\"\r\n            className=\"profile__image\"\r\n          />\r\n          <div\r\n            className=\"profile__icon\"\r\n            onClick={() => props.onEditAvatar()}\r\n          ></div>\r\n        </div>\r\n\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button\r\n            type=\"button\"\r\n            className=\"profile__edit\"\r\n            onClick={() => props.onEditProfile(true)}\r\n          ></button>\r\n          <p className=\"profile__subline\">{currentUser.about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          className=\"profile__add-button\"\r\n          onClick={() => props.onPlaceAdd()}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className=\"elements\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              onCardClick={props.onCardClick}\r\n              key={card._id}\r\n              userId={card.owner._id}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n              {...card}\r\n            />\r\n          );\r\n        })}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","export default function PopupWithForm(props) {\r\n  \r\n  return (\r\n    <div\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? \"popup_opened\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <form\r\n          name={`form-${props.name}`}\r\n          className=\"form\"\r\n          onSubmit={props.onSubmit}\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button type=\"submit\" className={`popup__submit`}>\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n\r\n    const [name,setName] = React.useState(\"\");\r\n    const [description,setDescription] = React.useState(\"\");\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n      }, [currentUser,props.isOpen]);\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n          name:name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Редактировать профиль\"\r\n        name=\"edit\"\r\n        isOpen={props.isOpen}\r\n        onClose={props.onClose}\r\n        buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n        submitType=\"disabled\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <input\r\n          name=\"name\"\r\n          type=\"text\"\r\n          placeholder=\"ваше имя\"\r\n          className=\"popup__input\"\r\n          id=\"name\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          required\r\n          value={name || \"\"}\r\n          onChange={(e) => {setName( e.target.value)}}\r\n        />\r\n        <span id=\"name-error\" className=\"form__error\"></span>\r\n        <input\r\n          name=\"about\"\r\n          type=\"text\"\r\n          placeholder=\"род занятий\"\r\n          className=\"popup__input\"\r\n          id=\"subline\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          required\r\n          value={description || \"\"}\r\n          onChange={(e) => {setDescription( e.target.value)}}\r\n        />\r\n        <span id=\"subline-error\" className=\"form__error\"></span>\r\n      </PopupWithForm>\r\n    );\r\n\r\n\r\n}","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nexport default function EditAvatarPopup (props) {\r\n    \r\n    const avatarEdit = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        props.onUpdateAvatar({\r\n          avatar: avatarEdit.current.value\r\n        });\r\n        e.target.reset();\r\n      } \r\n\r\n      function clearForm() {\r\n        props.onClose()\r\n        avatarEdit.current.value = \"\";\r\n      }\r\n\r\n    return (\r\n        <PopupWithForm\r\n          title=\"Обновить аватар\"\r\n          name=\"avatar\"\r\n          isOpen={props.isOpen}\r\n          onClose={clearForm}\r\n          buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n          submitType=\"disabled\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <input\r\n            name=\"avatar\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input\"\r\n            id=\"avatar\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            required\r\n            ref={avatarEdit}\r\n          />\r\n          <span id=\"avatar-error\" className=\"form__error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nexport default function AddPlacePopup (props) {\r\n\r\n    const [name,setName] = React.useState(\"\");\r\n    const [link,setLink] = React.useState(\"\");\r\n   \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        props.onAddPlace({\r\n          name:name,\r\n          link:link\r\n        });\r\n        setName(\"\");\r\n        setLink(\"\");\r\n      } \r\n\r\n      function clearForm() {\r\n        props.onClose()\r\n        setName(\"\");\r\n        setLink(\"\");\r\n      }\r\n\r\n\r\n    return (\r\n        <PopupWithForm\r\n          title=\"Новое место\"\r\n          name=\"place\"\r\n          isOpen={props.isOpen}\r\n          onClose={clearForm}\r\n          buttonText={props.isLoading ? \"Добавление...\" : \"Добавить\"}\r\n          submitType=\"disabled\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <input\r\n            name=\"name\"\r\n            type=\"text\"\r\n            placeholder=\"Название\"\r\n            className=\"popup__input\"\r\n            id=\"place\"\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            value={name || \"\"}\r\n            required\r\n            onChange={(e) => {setName( e.target.value)}}\r\n          />\r\n          <span id=\"place-error\" className=\"form__error\"></span>\r\n          <input\r\n            name=\"link\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            className=\"popup__input\"\r\n            id=\"link\"\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            value={link || \"\"}\r\n            required\r\n            onChange={(e) => {setLink( e.target.value)}}\r\n          />\r\n          <span id=\"link-error\" className=\"form__error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}","export default function ImagePopup(props) {\r\n    return (\r\n       <div className={`popup popup_type_photo ${props.card.link ? \"popup_opened\" : \"\"}`}>\r\n            <div className=\"popup__photoContainer\">\r\n              <img\r\n                src={props.card.link}\r\n                alt=\"картинка\"\r\n                className=\"popup__image\"\r\n              />\r\n              <p className=\"popup__photoName\">{props.card.name}</p>\r\n              <button\r\n                type=\"button\"\r\n                className=\"popup__close popup__close_type_photo\"\r\n                onClick={props.onClose}\r\n              ></button>\r\n            </div>\r\n          </div>\r\n    ) \r\n}"," class Api {\r\n    constructor(config) {\r\n      this._url = config.url;\r\n      this._headers = config.headers;\r\n    }\r\n  \r\n    _checkResponse(res) {\r\n      if (res.ok) {\r\n        return res.json();\r\n      } else {\r\n        return Promise.reject(`Ошибка ${res.status}`);\r\n      }\r\n    }\r\n  \r\n    getUserInfo() {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"GET\",\r\n        headers: this._headers,\r\n      }).then(this._checkResponse);\r\n    }\r\n  \r\n    getCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n        method: \"GET\",\r\n        headers: this._headers,\r\n      }).then(this._checkResponse);\r\n    }\r\n  \r\n    setUserInfo(input) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: input.name,\r\n          about: input.about,\r\n        }),\r\n      }).then(this._checkResponse);\r\n    }\r\n  \r\n    addCard(input) {\r\n      return fetch(`${this._url}/cards`, {\r\n        method: \"POST\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name: input.name,\r\n          link: input.link,\r\n        }),\r\n      }).then(this._checkResponse);\r\n    }\r\n  \r\n    deleteCard(cardID) {\r\n      return fetch(`${this._url}/cards/${cardID}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._checkResponse);\r\n    }\r\n  \r\n    avatar(input) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n        method: \"PATCH\",\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar: input.avatar,\r\n        }),\r\n      }).then(this._checkResponse);\r\n    }\r\n\r\n    changeLikeCardStatus(cardID,isLiked) {\r\n      if (isLiked) {\r\n        return fetch(`${this._url}/cards/likes/${cardID}`, {\r\n          method: \"PUT\",\r\n          headers: this._headers,\r\n        }).then(this._checkResponse);\r\n      } else {\r\n        return fetch(`${this._url}/cards/likes/${cardID}`, {\r\n          method: \"DELETE\",\r\n          headers: this._headers,\r\n        }).then(this._checkResponse);\r\n      }\r\n    }\r\n  }\r\n\r\n   const api = new Api({\r\n    url: \"https://nomoreparties.co/v1/cohort-26\",\r\n    headers: {\r\n      authorization: \"aaca6239-cac0-4a87-8d95-e01e56ac6f60\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  \r\n  export default api;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n         props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.handleSubmitRegister(this.state.email, this.state.password);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"register\" onSubmit={this.handleSubmit}>\r\n        <h1 className=\"register__header\">Регистрация</h1>\r\n        <input\r\n          placeholder=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          className=\"input\"\r\n          value={this.state.email || \"\"}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"пароль\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          className=\"input\"\r\n          value={this.state.password || \"\"}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"submit\">\r\n          Зарегистрироваться\r\n        </button>\r\n        <div className=\"register__signin\">\r\n          <p>\r\n            Уже зарегистрированы?{\" \"}\r\n            <Link to=\"sign-in\" className=\"register__login\">\r\n              Войти\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.handleSubmitAuth(this.state.email, this.state.password);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"login\" onSubmit={this.handleSubmit}>\r\n        <h1 className=\"login__header\">Вход</h1>\r\n        <input\r\n          placeholder=\"email\"\r\n          id=\"email\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          className=\"input\"\r\n          value={this.state.email || \"\"}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n        <input\r\n          placeholder=\"пароль\"\r\n          id=\"password\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          className=\"input\"\r\n          value={this.state.password || \"\"}\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\" className=\"submit\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Login);\r\n","export default __webpack_public_path__ + \"static/media/reg-ok.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/reg=failed.d4ce2a26.svg\";","import reg_ok from \"../images/reg-ok.svg\";\r\nimport reg_failed from \"../images/reg=failed.svg\";\r\n\r\n\r\nexport default function InfoTooltip({isOpen,onClose,isSucces}) {\r\n    return(\r\n        <div className={`popup  ${isOpen ? \"popup__status_opened\" : \"\"}`}>\r\n            <div className=\"popup__container\">\r\n              <img\r\n                src={isSucces ? reg_ok : reg_failed}\r\n                alt=\"картинка\"\r\n                className=\"popup__image_status\"\r\n              />\r\n              <p className=\"popup__status\">\r\n                  {isSucces ? \"Вы успешно зарегистрировались\" : \"Что-то пошло не так!Попробуйте ещё раз\"}\r\n              </p>\r\n              <button\r\n                type=\"button\"\r\n                className=\"popup__close\"\r\n                onClick={onClose}\r\n              ></button>\r\n            </div>\r\n          </div>\r\n    )\r\n}","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkresponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  } else {\r\n    return Promise.reject(`Ошибка ${res.status}`);\r\n  }\r\n};\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkresponse);\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ email, password }),\r\n  }).then(checkresponse);\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  }).then(checkresponse);\r\n};\r\n","import \"../index.css\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport React from \"react\";\r\nimport api from \"../utils/Api.js\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport * as auth from \"../utils/Auth.js\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [isLoading, setLoading] = React.useState(false);\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isPopupStatusOpen, setPopupStatusOpen] = React.useState(false);\r\n  const [isSucces, setSucces] = React.useState();\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const history = useHistory();\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  const closeAllPopups = () => {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setPopupStatusOpen(false);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setEditProfilePopupOpen(true);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard({\r\n      link: card.link,\r\n      name: card.name,\r\n    });\r\n  };\r\n\r\n  const handleUpdateUser = (input) => {\r\n    setLoading(true);\r\n    api\r\n      .setUserInfo(input)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleUpdateAvatar = (input) => {\r\n    setLoading(true);\r\n    api\r\n      .avatar(input)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const handleAddPlaceSubmit = (input) => {\r\n    setLoading(true);\r\n    api\r\n      .addCard(input)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if (token) {\r\n      auth\r\n        .checkToken(token)\r\n        .then((res) => {\r\n          setEmail(res.data.email);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [loggedIn, history]);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards(cards.map((c) => (c._id === card._id ? newCard : c)));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        setCards((state) => state.filter((c) => c._id !== card._id));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleSubmitAuth(email, password) {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          setLoggedIn(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleSubmitRegister(email, password) {\r\n    auth\r\n      .register(email, password)\r\n      .then(() => {\r\n        setSucces(true);\r\n        setPopupStatusOpen(true);\r\n        history.push(\"/sign-in\");\r\n      })\r\n      .catch(() => {\r\n        setSucces(false);\r\n        setPopupStatusOpen(true);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div className=\"body\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header loggedIn={loggedIn} email={email} />\r\n        <Switch>\r\n          <ProtectedRoute\r\n            exact\r\n            path=\"/\"\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick}\r\n            onPlaceAdd={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleCardDelete}\r\n            loggedIn={loggedIn}\r\n          ></ProtectedRoute>\r\n          <Route path=\"/sign-up\">\r\n            <Register handleSubmitRegister={handleSubmitRegister} />\r\n          </Route>\r\n          <Route path=\"/sign-in\">\r\n            <Login handleSubmitAuth={handleSubmitAuth} />\r\n          </Route>\r\n        </Switch>\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n          isLoading={isLoading}\r\n        />\r\n\r\n        <PopupWithForm\r\n          title=\"Вы уверены?\"\r\n          name=\"delete\"\r\n          buttonText=\"Да\"\r\n          submitType=\"delete\"\r\n        />\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n        <InfoTooltip\r\n          isOpen={isPopupStatusOpen}\r\n          onClose={closeAllPopups}\r\n          isSucces={isSucces}\r\n        />\r\n\r\n        <Footer />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}